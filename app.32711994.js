!function(){"use strict";var e,t,n,o,r,i,s={},l=[],a=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function _(e,t){for(var n in t)e[n]=t[n];return e}function u(e){var t=e.parentNode;t&&t.removeChild(e)}function c(t,n,o){var r,i,s,l={};for(s in n)"key"==s?r=n[s]:"ref"==s?i=n[s]:l[s]=n[s];if(arguments.length>2&&(l.children=arguments.length>3?e.call(arguments,2):o),"function"==typeof t&&null!=t.defaultProps)for(s in t.defaultProps)void 0===l[s]&&(l[s]=t.defaultProps[s]);return f(t,l,r,i,null)}function f(e,o,r,i,s){var l={type:e,props:o,key:r,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==s?++n:s};return null!=t.vnode&&t.vnode(l),l}function d(e){return e.children}function h(e,t){this.props=e,this.context=t}function p(e,t){if(null==t)return e.__?p(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?p(e):null}function m(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return m(e)}}function v(e){(!e.__d&&(e.__d=!0)&&o.push(e)&&!y.__r++||i!==t.debounceRendering)&&((i=t.debounceRendering)||r)(y)}function y(){for(var e;y.__r=o.length;)e=o.sort((function(e,t){return e.__v.__b-t.__v.__b})),o=[],e.some((function(e){var t,n,o,r,i,s;e.__d&&(i=(r=(t=e).__v).__e,(s=t.__P)&&(n=[],(o=_({},r)).__v=r.__v+1,A(s,r,o,t.__n,void 0!==s.ownerSVGElement,null!=r.__h?[i]:null,n,null==i?p(r):i,r.__h),N(n,r),r.__e!=i&&m(r)))}))}function g(e,t,n,o,r,i,a,_,u,c){var h,m,v,y,g,R,w,E=o&&o.__k||l,S=E.length;for(n.__k=[],h=0;h<t.length;h++)if(null!=(y=n.__k[h]=null==(y=t[h])||"boolean"==typeof y?null:"string"==typeof y||"number"==typeof y||"bigint"==typeof y?f(null,y,null,null,y):Array.isArray(y)?f(d,{children:y},null,null,null):y.__b>0?f(y.type,y.props,y.key,null,y.__v):y)){if(y.__=n,y.__b=n.__b+1,null===(v=E[h])||v&&y.key==v.key&&y.type===v.type)E[h]=void 0;else for(m=0;m<S;m++){if((v=E[m])&&y.key==v.key&&y.type===v.type){E[m]=void 0;break}v=null}A(e,y,v=v||s,r,i,a,_,u,c),g=y.__e,(m=y.ref)&&v.ref!=m&&(w||(w=[]),v.ref&&w.push(v.ref,null,y),w.push(m,y.__c||g,y)),null!=g?(null==R&&(R=g),"function"==typeof y.type&&null!=y.__k&&y.__k===v.__k?y.__d=u=b(y,u,e):u=k(e,y,v,E,g,u),c||"option"!==n.type?"function"==typeof n.type&&(n.__d=u):e.value=""):u&&v.__e==u&&u.parentNode!=e&&(u=p(v))}for(n.__e=R,h=S;h--;)null!=E[h]&&("function"==typeof n.type&&null!=E[h].__e&&E[h].__e==n.__d&&(n.__d=p(o,h+1)),D(E[h],E[h]));if(w)for(h=0;h<w.length;h++)C(w[h],w[++h],w[++h])}function b(e,t,n){var o,r;for(o=0;o<e.__k.length;o++)(r=e.__k[o])&&(r.__=e,t="function"==typeof r.type?b(r,t,n):k(n,r,r,e.__k,r.__e,t));return t}function k(e,t,n,o,r,i){var s,l,a;if(void 0!==t.__d)s=t.__d,t.__d=void 0;else if(null==n||r!=i||null==r.parentNode)e:if(null==i||i.parentNode!==e)e.appendChild(r),s=null;else{for(l=i,a=0;(l=l.nextSibling)&&a<o.length;a+=2)if(l==r)break e;e.insertBefore(r,i),s=i}return void 0!==s?s:r.nextSibling}function R(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=null==n?"":"number"!=typeof n||a.test(t)?n:n+"px"}function w(e,t,n,o,r){var i;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof o&&(e.style.cssText=o=""),o)for(t in o)n&&t in n||R(e.style,t,"");if(n)for(t in n)o&&n[t]===o[t]||R(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])i=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?o||e.addEventListener(t,i?S:E,i):e.removeEventListener(t,i?S:E,i);else if("dangerouslySetInnerHTML"!==t){if(r)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null!=n&&(!1!==n||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,n):e.removeAttribute(t))}}function E(e){this.l[e.type+!1](t.event?t.event(e):e)}function S(e){this.l[e.type+!0](t.event?t.event(e):e)}function A(e,n,o,r,i,s,l,a,u){var c,f,p,m,v,y,b,k,R,w,E,S=n.type;if(void 0!==n.constructor)return null;null!=o.__h&&(u=o.__h,a=n.__e=o.__e,n.__h=null,s=[a]),(c=t.__b)&&c(n);try{e:if("function"==typeof S){if(k=n.props,R=(c=S.contextType)&&r[c.__c],w=c?R?R.props.value:c.__:r,o.__c?b=(f=n.__c=o.__c).__=f.__E:("prototype"in S&&S.prototype.render?n.__c=f=new S(k,w):(n.__c=f=new h(k,w),f.constructor=S,f.render=I),R&&R.sub(f),f.props=k,f.state||(f.state={}),f.context=w,f.__n=r,p=f.__d=!0,f.__h=[]),null==f.__s&&(f.__s=f.state),null!=S.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=_({},f.__s)),_(f.__s,S.getDerivedStateFromProps(k,f.__s))),m=f.props,v=f.state,p)null==S.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(null==S.getDerivedStateFromProps&&k!==m&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(k,w),!f.__e&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(k,f.__s,w)||n.__v===o.__v){f.props=k,f.state=f.__s,n.__v!==o.__v&&(f.__d=!1),f.__v=n,n.__e=o.__e,n.__k=o.__k,n.__k.forEach((function(e){e&&(e.__=n)})),f.__h.length&&l.push(f);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(k,f.__s,w),null!=f.componentDidUpdate&&f.__h.push((function(){f.componentDidUpdate(m,v,y)}))}f.context=w,f.props=k,f.state=f.__s,(c=t.__r)&&c(n),f.__d=!1,f.__v=n,f.__P=e,c=f.render(f.props,f.state,f.context),f.state=f.__s,null!=f.getChildContext&&(r=_(_({},r),f.getChildContext())),p||null==f.getSnapshotBeforeUpdate||(y=f.getSnapshotBeforeUpdate(m,v)),E=null!=c&&c.type===d&&null==c.key?c.props.children:c,g(e,Array.isArray(E)?E:[E],n,o,r,i,s,l,a,u),f.base=n.__e,n.__h=null,f.__h.length&&l.push(f),b&&(f.__E=f.__=null),f.__e=!1}else null==s&&n.__v===o.__v?(n.__k=o.__k,n.__e=o.__e):n.__e=O(o.__e,n,o,r,i,s,l,u);(c=t.diffed)&&c(n)}catch(e){n.__v=null,(u||null!=s)&&(n.__e=a,n.__h=!!u,s[s.indexOf(a)]=null),t.__e(e,n,o)}}function N(e,n){t.__c&&t.__c(n,e),e.some((function(n){try{e=n.__h,n.__h=[],e.some((function(e){e.call(n)}))}catch(e){t.__e(e,n.__v)}}))}function O(t,n,o,r,i,l,a,_){var c,f,d,h=o.props,m=n.props,v=n.type,y=0;if("svg"===v&&(i=!0),null!=l)for(;y<l.length;y++)if((c=l[y])&&(c===t||(v?c.localName==v:3==c.nodeType))){t=c,l[y]=null;break}if(null==t){if(null===v)return document.createTextNode(m);t=i?document.createElementNS("http://www.w3.org/2000/svg",v):document.createElement(v,m.is&&m),l=null,_=!1}if(null===v)h===m||_&&t.data===m||(t.data=m);else{if(l=l&&e.call(t.childNodes),f=(h=o.props||s).dangerouslySetInnerHTML,d=m.dangerouslySetInnerHTML,!_){if(null!=l)for(h={},y=0;y<t.attributes.length;y++)h[t.attributes[y].name]=t.attributes[y].value;(d||f)&&(d&&(f&&d.__html==f.__html||d.__html===t.innerHTML)||(t.innerHTML=d&&d.__html||""))}if(function(e,t,n,o,r){var i;for(i in n)"children"===i||"key"===i||i in t||w(e,i,null,n[i],o);for(i in t)r&&"function"!=typeof t[i]||"children"===i||"key"===i||"value"===i||"checked"===i||n[i]===t[i]||w(e,i,t[i],n[i],o)}(t,m,h,i,_),d)n.__k=[];else if(y=n.props.children,g(t,Array.isArray(y)?y:[y],n,o,r,i&&"foreignObject"!==v,l,a,l?l[0]:o.__k&&p(o,0),_),null!=l)for(y=l.length;y--;)null!=l[y]&&u(l[y]);_||("value"in m&&void 0!==(y=m.value)&&(y!==t.value||"progress"===v&&!y)&&w(t,"value",y,h.value,!1),"checked"in m&&void 0!==(y=m.checked)&&y!==t.checked&&w(t,"checked",y,h.checked,!1))}return t}function C(e,n,o){try{"function"==typeof e?e(n):e.current=n}catch(e){t.__e(e,o)}}function D(e,n,o){var r,i;if(t.unmount&&t.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||C(r,null,n)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){t.__e(e,n)}r.base=r.__P=null}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&D(r[i],n,"function"!=typeof e.type);o||null==e.__e||u(e.__e),e.__e=e.__d=void 0}function I(e,t,n){return this.constructor(e,n)}e=l.slice,t={__e:function(e,t){for(var n,o,r;t=t.__;)if((n=t.__c)&&!n.__)try{if((o=n.constructor)&&null!=o.getDerivedStateFromError&&(n.setState(o.getDerivedStateFromError(e)),r=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(e),r=n.__d),r)return n.__E=n}catch(t){e=t}throw e}},n=0,h.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=_({},this.state),"function"==typeof e&&(e=e(_({},n),this.props)),e&&_(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),v(this))},h.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),v(this))},h.prototype.render=d,o=[],r="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,y.__r=0,"undefined"!=typeof window&&window.__PREACT_DEVTOOLS__&&window.__PREACT_DEVTOOLS__.attachPreact("10.5.14",t,{Fragment:d,Component:h});var U={};function T(e){return e.type===d?"Fragment":"function"==typeof e.type?e.type.displayName||e.type.name:"string"==typeof e.type?e.type:"#text"}var x=[],B=[];function M(){return x.length>0?x[x.length-1]:null}var P=!1;function L(e){return"function"==typeof e.type&&e.type!=d}function $(e){for(var t=[e],n=e;null!=n.__o;)t.push(n.__o),n=n.__o;return t.reduce((function(e,t){e+="  in "+T(t);var n=t.__source;return n?e+=" (at "+n.fileName+":"+n.lineNumber+")":P||(P=!0,console.warn("Add @babel/plugin-transform-react-jsx-source to get a more detailed component stack. Note that you should not add it to production builds of your App for bundle size reasons.")),e+"\n"}),"")}var j="function"==typeof WeakMap,F=h.prototype.setState;h.prototype.setState=function(e,t){return null==this.__v?null==this.state&&console.warn('Calling "this.setState" inside the constructor of a component is a no-op and might be a bug in your application. Instead, set "this.state = {}" directly.\n\n'+$(M())):null==this.__P&&console.warn('Can\'t call "this.setState" on an unmounted component. This is a no-op, but it indicates a memory leak in your application. To fix, cancel all subscriptions and asynchronous tasks in the componentWillUnmount method.\n\n'+$(this.__v)),F.call(this,e,t)};var H=h.prototype.forceUpdate;function W(e){var t=e.props,n=T(e),o="";for(var r in t)if(t.hasOwnProperty(r)&&"children"!==r){var i=t[r];"function"==typeof i&&(i="function "+(i.displayName||i.name)+"() {}"),i=Object(i)!==i||i.toString?i+"":Object.prototype.toString.call(i),o+=" "+r+"="+JSON.stringify(i)}var s=t.children;return"<"+n+o+(s&&s.length?">..</"+n+">":" />")}h.prototype.forceUpdate=function(e){return null==this.__v?console.warn('Calling "this.forceUpdate" inside the constructor of a component is a no-op and might be a bug in your application.\n\n'+$(M())):null==this.__P&&console.warn('Can\'t call "this.forceUpdate" on an unmounted component. This is a no-op, but it indicates a memory leak in your application. To fix, cancel all subscriptions and asynchronous tasks in the componentWillUnmount method.\n\n'+$(this.__v)),H.call(this,e)},function(){!function(){var e=t.__b,n=t.diffed,o=t.__,r=t.vnode,i=t.__r;t.diffed=function(e){L(e)&&B.pop(),x.pop(),n&&n(e)},t.__b=function(t){L(t)&&x.push(t),e&&e(t)},t.__=function(e,t){B=[],o&&o(e,t)},t.vnode=function(e){e.__o=B.length>0?B[B.length-1]:null,r&&r(e)},t.__r=function(e){L(e)&&B.push(e),i&&i(e)}}();var e=!1,n=t.__b,o=t.diffed,r=t.vnode,i=t.__e,s=t.__,l=t.__h,a=j?{useEffect:new WeakMap,useLayoutEffect:new WeakMap,lazyPropTypes:new WeakMap}:null,_=[];t.__e=function(e,t,n){if(t&&t.__c&&"function"==typeof e.then){var o=e;e=new Error("Missing Suspense. The throwing component was: "+T(t));for(var r=t;r;r=r.__)if(r.__c&&r.__c.__c){e=o;break}if(e instanceof Error)throw e}try{i(e,t,n),"function"!=typeof e.then&&setTimeout((function(){throw e}))}catch(e){throw e}},t.__=function(e,t){if(!t)throw new Error("Undefined parent passed to render(), this is the second argument.\nCheck if the element is available in the DOM/has the correct id.");var n;switch(t.nodeType){case 1:case 11:case 9:n=!0;break;default:n=!1}if(!n){var o=T(e);throw new Error("Expected a valid HTML node as a second argument to render.\tReceived "+t+" instead: render(<"+o+" />, "+t+");")}s&&s(e,t)},t.__b=function(t){var o=t.type,r=function e(t){return t?"function"==typeof t.type?e(t.__):t:{}}(t.__);if(e=!0,void 0===o)throw new Error("Undefined component passed to createElement()\n\nYou likely forgot to export your component or might have mixed up default and named imports"+W(t)+"\n\n"+$(t));if(null!=o&&"object"==typeof o){if(void 0!==o.__k&&void 0!==o.__e)throw new Error("Invalid type passed to createElement(): "+o+"\n\nDid you accidentally pass a JSX literal as JSX twice?\n\n  let My"+T(t)+" = "+W(o)+";\n  let vnode = <My"+T(t)+" />;\n\nThis usually happens when you export a JSX literal and not the component.\n\n"+$(t));throw new Error("Invalid type passed to createElement(): "+(Array.isArray(o)?"array":o))}if("thead"!==o&&"tfoot"!==o&&"tbody"!==o||"table"===r.type?"tr"===o&&"thead"!==r.type&&"tfoot"!==r.type&&"tbody"!==r.type&&"table"!==r.type?console.error("Improper nesting of table. Your <tr> should have a <thead/tbody/tfoot/table> parent."+W(t)+"\n\n"+$(t)):"td"===o&&"tr"!==r.type?console.error("Improper nesting of table. Your <td> should have a <tr> parent."+W(t)+"\n\n"+$(t)):"th"===o&&"tr"!==r.type&&console.error("Improper nesting of table. Your <th> should have a <tr>."+W(t)+"\n\n"+$(t)):console.error("Improper nesting of table. Your <thead/tbody/tfoot> should have a <table> parent."+W(t)+"\n\n"+$(t)),void 0!==t.ref&&"function"!=typeof t.ref&&"object"!=typeof t.ref&&!("$$typeof"in t))throw new Error('Component\'s "ref" property should be a function, or an object created by createRef(), but got ['+typeof t.ref+"] instead\n"+W(t)+"\n\n"+$(t));if("string"==typeof t.type)for(var i in t.props)if("o"===i[0]&&"n"===i[1]&&"function"!=typeof t.props[i]&&null!=t.props[i])throw new Error("Component's \""+i+'" property should be a function, but got ['+typeof t.props[i]+"] instead\n"+W(t)+"\n\n"+$(t));if("function"==typeof t.type&&t.type.propTypes){if("Lazy"===t.type.displayName&&a&&!a.lazyPropTypes.has(t.type)){var s="PropTypes are not supported on lazy(). Use propTypes on the wrapped component itself. ";try{var l=t.type();a.lazyPropTypes.set(t.type,!0),console.warn(s+"Component wrapped in lazy() is "+T(l))}catch(t){console.warn(s+"We will log the wrapped component's name once it is loaded.")}}var _=t.props;t.type.__f&&delete(_=function(e,t){for(var n in t)e[n]=t[n];return e}({},_)).ref,function(e,t,n,o,r){Object.keys(e).forEach((function(n){var i;try{i=e[n](t,n,o,"prop",null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(e){i=e}!i||i.message in U||(U[i.message]=!0,console.error("Failed prop type: "+i.message+(r&&"\n"+r()||"")))}))}(t.type.propTypes,_,0,T(t),(function(){return $(t)}))}n&&n(t)},t.__h=function(t,n,o){if(!t||!e)throw new Error("Hook can only be invoked from render methods.");l&&l(t,n,o)};var u=function(e,t){return{get:function(){var n="get"+e+t;_&&_.indexOf(n)<0&&(_.push(n),console.warn("getting vnode."+e+" is deprecated, "+t))},set:function(){var n="set"+e+t;_&&_.indexOf(n)<0&&(_.push(n),console.warn("setting vnode."+e+" is not allowed, "+t))}}},c={nodeName:u("nodeName","use vnode.type"),attributes:u("attributes","use vnode.props"),children:u("children","use vnode.props.children")},f=Object.create({},c);t.vnode=function(e){var t=e.props;if(null!==e.type&&null!=t&&("__source"in t||"__self"in t)){var n=e.props={};for(var o in t){var i=t[o];"__source"===o?e.__source=i:"__self"===o?e.__self=i:n[o]=i}}e.__proto__=f,r&&r(e)},t.diffed=function(t){if(t.__k&&t.__k.forEach((function(e){if(e&&void 0===e.type){delete e.__,delete e.__b;var n=Object.keys(e).join(",");throw new Error("Objects are not valid as a child. Encountered an object with the keys {"+n+"}.\n\n"+$(t))}})),e=!1,o&&o(t),null!=t.__k)for(var n=[],r=0;r<t.__k.length;r++){var i=t.__k[r];if(i&&null!=i.key){var s=i.key;if(-1!==n.indexOf(s)){console.error('Following component has two or more children with the same key attribute: "'+s+'". This may cause glitches and misbehavior in rendering process. Component: \n\n'+W(t)+"\n\n"+$(t));break}n.push(s)}}}}();var J,z,Y,V=0,q=[],G=t.__b,X=t.__r,Q=t.diffed,Z=t.__c,K=t.unmount;function ee(e,n){t.__h&&t.__h(z,e,V||n),V=0;var o=z.__H||(z.__H={__:[],__h:[]});return e>=o.__.length&&o.__.push({}),o.__[e]}function te(e){return V=1,function(e,t,n){var o=ee(J++,2);return o.t=e,o.__c||(o.__=[n?n(t):ue(void 0,t),function(e){var t=o.t(o.__[0],e);o.__[0]!==t&&(o.__=[t,o.__[1]],o.__c.setState({}))}],o.__c=z),o.__}(ue,e)}function ne(e,n){var o=ee(J++,3);!t.__s&&_e(o.__H,n)&&(o.__=e,o.__H=n,z.__H.__h.push(o))}function oe(e){return V=5,function(e,t){var n=ee(J++,7);return _e(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}((function(){return{current:e}}),[])}function re(){q.forEach((function(e){if(e.__P)try{e.__H.__h.forEach(le),e.__H.__h.forEach(ae),e.__H.__h=[]}catch(n){e.__H.__h=[],t.__e(n,e.__v)}})),q=[]}t.__b=function(e){z=null,G&&G(e)},t.__r=function(e){X&&X(e),J=0;var t=(z=e.__c).__H;t&&(t.__h.forEach(le),t.__h.forEach(ae),t.__h=[])},t.diffed=function(e){Q&&Q(e);var n=e.__c;n&&n.__H&&n.__H.__h.length&&(1!==q.push(n)&&Y===t.requestAnimationFrame||((Y=t.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(o),se&&cancelAnimationFrame(t),setTimeout(e)},o=setTimeout(n,100);se&&(t=requestAnimationFrame(n))})(re)),z=void 0},t.__c=function(e,n){n.some((function(e){try{e.__h.forEach(le),e.__h=e.__h.filter((function(e){return!e.__||ae(e)}))}catch(o){n.some((function(e){e.__h&&(e.__h=[])})),n=[],t.__e(o,e.__v)}})),Z&&Z(e,n)},t.unmount=function(e){K&&K(e);var n=e.__c;if(n&&n.__H)try{n.__H.__.forEach(le)}catch(e){t.__e(e,n.__v)}};var ie,se="function"==typeof requestAnimationFrame;function le(e){var t=z;"function"==typeof e.__c&&e.__c(),z=t}function ae(e){var t=z;e.__c=e.__(),z=t}function _e(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function ue(e,t){return"function"==typeof t?t(e):t}class ce{constructor(e,t,n,o,r,i){this.id=e,this.fname=t,this.lname=n,this.fraction=o,this.image=r,this.state=i}static empty(){return new ce(-1,"Leer","",void 0,"generic.png",ie.NONE)}makeNameId(){return(this.fname.substr(0,1)+this.lname.substr(0,2)).toUpperCase()}}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
function fe(e,t,n,o){return new(n||(n=Promise))((function(r,i){function s(e){try{a(o.next(e))}catch(e){i(e)}}function l(e){try{a(o.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,l)}a((o=o.apply(e,t||[])).next())}))}!function(e){e[e.NONE=0]="NONE",e[e.YES=1]="YES",e[e.NO=2]="NO",e[e.ABS=3]="ABS"}(ie||(ie={}));const de=new class{constructor(){}get voteResults(){return JSON.parse(localStorage.getItem("votes")||"{}")}set voteResults(e){localStorage.setItem("votes",JSON.stringify(e))}get members(){return JSON.parse(localStorage.getItem("members")||"[]")}set members(e){localStorage.setItem("members",JSON.stringify(e))}get baseUrl(){return JSON.parse(localStorage.getItem("base-url")||'""')}set baseUrl(e){localStorage.setItem("base-url",JSON.stringify(e))}};const he=new class{constructor(){this.BASE_URL=""}checkBaseUrl(){if(!this.BASE_URL&&(this.BASE_URL=de.baseUrl,!this.BASE_URL)){if(this.BASE_URL=prompt("API-URL:")||"",!this.BASE_URL)return alert("Sorry, this information is mandatory."),void location.reload();de.baseUrl=this.BASE_URL}}get(e){return fe(this,void 0,void 0,(function*(){this.checkBaseUrl();let t=yield fetch(`${this.BASE_URL}?${e}`);if(!t.ok)throw new Error(t.statusText);return t.json()}))}post(e,t){return fe(this,void 0,void 0,(function*(){this.checkBaseUrl(),yield fetch(`${this.BASE_URL}?${e}`,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:t})}))}getDraftResolutions(){return fe(this,void 0,void 0,(function*(){return(yield this.get("draftresolutions")).map((e=>({session:e.sitzung,date:e.sitzungsdatum,draftResolution:e.beschlussvorlage,description:e.kurzbeschreibung})))}))}getMembers(){return fe(this,void 0,void 0,(function*(){let e=yield this.get("config");const t=e.fractions.map((e=>({id:e.nr,name:e.fraktionsname,shortName:e.kurzname})));return e.members.map(((e,n)=>new ce(n+1,e.vorname,e.name,t.find((t=>t.id==e.fraktion)),e.bild,ie.NONE)))}))}saveResults(e){return fe(this,void 0,void 0,(function*(){return yield this.post("save",JSON.stringify(e))}))}getImages(){return fe(this,void 0,void 0,(function*(){return yield this.get("images")}))}};const pe=new class{constructor(){this.voteResults={},this._currentDraftResolution="",this._members=[],this._images={},this._draftResolutions={},this.voteResults=de.voteResults,this._members=de.members}get members(){return this._members}set members(e){this._members=e}get currentDraftResolution(){return this._currentDraftResolution}set currentDraftResolution(e){this._currentDraftResolution=e}getDraftResolution(e){return this._draftResolutions[e]}setDraftResolutions(e){e.forEach((e=>this._draftResolutions[e.draftResolution]=e))}setVoteResult(e,t){this.voteResults[this.currentDraftResolution]||(this.voteResults[this.currentDraftResolution]={}),this.voteResults[this.currentDraftResolution][e]={s:t,t:~~((new Date).getTime()/1e3)},this.saveVoteResults()}saveVoteResults(){de.voteResults=this.voteResults}saveMembers(){de.members=this._members}getResultsForCurrentDraft(){return this.voteResults[this._currentDraftResolution]||{}}getResultForCurrentDraftAndMember(e){var t;return(null===(t=(this.voteResults[this._currentDraftResolution]||{})[e.id])||void 0===t?void 0:t.s)||ie.NONE}resetCurrentDraft(){this.voteResults[this._currentDraftResolution]={},this.saveVoteResults()}resetAllDrafts(){this.voteResults={},this.saveVoteResults()}getMemberById(e){return this._members.find((t=>t.id==e))}uploadResults(){var e,t;return fe(this,void 0,void 0,(function*(){let n=[];for(const o of Object.keys(this.voteResults)){const r=this._draftResolutions[o].session;for(const i of Object.keys(this.voteResults[o])){const s=parseInt(i);if(s<0)continue;let l=this.voteResults[o][s];n.push([r,new Date(1e3*l.t).toLocaleString("de-DE"),o,((null===(e=this.getMemberById(s))||void 0===e?void 0:e.fname)||"")+" "+((null===(t=this.getMemberById(s))||void 0===t?void 0:t.lname)||""),l.s==ie.YES?1:0,l.s==ie.NO?1:0,l.s==ie.ABS?1:0])}}yield he.saveResults(n)}))}downloadResults(){var e,t;const n=[["Datum","Besschluss","Mitgliedsname","Ja","Nein","Enthaltung"].join(";")];for(const o of Object.keys(this.voteResults))for(const r of Object.keys(this.voteResults[o])){const i=parseInt(r);let s=this.voteResults[o][i];n.push([new Date(1e3*s.t).toISOString().substr(0,16).replace("T"," "),o,((null===(e=this.getMemberById(i))||void 0===e?void 0:e.fname)||"")+" "+((null===(t=this.getMemberById(i))||void 0===t?void 0:t.lname)||""),s.s==ie.YES?1:0,s.s==ie.NO?1:0,s.s==ie.ABS?1:0].join(";"))}const o=document.createElement("a");o.href="data:text/plain;charset=utf-8,%EF%BB%BF"+encodeURIComponent(n.join("\r\n")),o.download="vote-results.csv",o.click()}loadImages(){return fe(this,void 0,void 0,(function*(){Object.keys(this._images).length||(this._images=yield he.getImages())}))}getImage(e){return Object.keys(this._images).length?this._images[e]?this._images[e]:this._images["generic.png"]:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"}cleanUp(e){for(const t of Object.keys(this.voteResults))e.indexOf(t)>=0||delete this.voteResults[t];this.saveVoteResults()}};const me=new class{constructor(){this.actions={},this.id=0,this.components={}}$emit(e,...t){this.actions[e]&&this.actions[e].forEach((e=>setTimeout((()=>e.fn.apply(this,t)))))}$emitSync(e,...t){if(!this.actions[e])return;const n=this.actions[e].map((e=>e.fn.apply(this,t)));return n.length>1?n:n[0]}$on(e,t){const n={id:++this.id,fn:t};return this.actions[e]?this.actions[e].push(n):this.actions[e]=[n],n.id}$onC(e,t,n){e in this.components||(this.components[e]={}),!this.components[e][t]&&(this.components[e][t]=this.$on(t,n))}$offC(e){if(e in this.components)for(const t of Object.keys(this.components[e]))this.$off(t,this.components[e][t]),delete this.components[e][t]}$off(e,t){this.actions[e]&&(t?this.actions[e]=this.actions[e].filter((e=>e.id!==t)):delete this.actions[e])}$subscribed(e){return this.actions[e]&&this.actions[e].length>0}};var ve=({member:e})=>{var t;const[n,o]=te(ie.NONE),r=(t,r=!0)=>{var i;t!=n&&(o(t),pe.setVoteResult(e.id,t),r&&me.$emit("voteFraction",null===(i=e.fraction)||void 0===i?void 0:i.id,t))},i=()=>o(pe.getResultForCurrentDraftAndMember(e));return ne((()=>{me.$on("voteUpdate",i),me.$on("voteFraction",((t,o)=>{var i;t===(null===(i=e.fraction)||void 0===i?void 0:i.id)&&pe.getResultForCurrentDraftAndMember(e)===ie.NONE&&(r(o,!1),window.console.log("Member",e.lname,"will also vote",o,n))})),i()}),[]),c("div",{class:"name-control"},c("div",{class:"avatar",style:{backgroundImage:`url(${pe.getImage(e.image)})`},onClick:()=>r(ie.NONE,!1)},e.fname," ",e.lname,c("br",null),e.fraction?`(${null===(t=e.fraction)||void 0===t?void 0:t.shortName})`:""),c("button",{className:"btn "+(n==ie.YES?"selected":""),onClick:()=>r(ie.YES)},"J"),c("button",{className:"btn "+(n==ie.NO?"selected":""),onClick:()=>r(ie.NO)},"N"),c("button",{className:"btn "+(n==ie.ABS?"selected":""),onClick:()=>r(ie.ABS)},"E"))},ye=({edit:e})=>{let[t,n]=te([]);return ne((()=>{console.debug("Started load images ..."),pe.loadImages().then((()=>{console.debug("Finished loading images!"),n([]),n(pe.members)})),pe.members.length?n(pe.members):e(!0)}),[]),c("div",{class:"namelist"},t.map((e=>c(ve,{member:e}))))},ge=({edit:e})=>{const[t,n]=te(0),[o,r]=te([{session:"",draftResolution:"Lade Daten ...    ",description:"",date:""}]),[i,s]=te(!1),[l,a]=te(!1),_=e=>{n(e),pe.currentDraftResolution=o[e].draftResolution,u&&u.current&&(u.current.selectedIndex=e),me.$emit("voteUpdate")},u=oe(null);ne((()=>{he.getDraftResolutions().then((e=>{r(e),pe.setDraftResolutions(e),pe.currentDraftResolution=e.length?e[0].draftResolution:"",pe.cleanUp(e.map((e=>e.draftResolution))),me.$emit("voteUpdate"),s(!0)})),setTimeout((()=>me.$emit("voteUpdate")),10)}),[]);return c("div",{class:"draft-resoulution-control"},c("select",{ref:u,onChange:()=>{var e;return _((null===(e=null==u?void 0:u.current)||void 0===e?void 0:e.selectedIndex)||0)},disabled:!i},o.map((e=>c("option",null,e.draftResolution," - ",e.description)))),c("button",{onClick:()=>_(t>0?t-1:t),class:"has-icon ic-caret-left"}),c("button",{onClick:()=>_(t<o.length-1?t+1:t),class:"has-icon ic-caret-right"}),c("button",{onClick:()=>{pe.uploadResults().then((()=>{}))},class:"has-icon ic-cloud-upload",disabled:l}),c("button",{onClick:()=>document.fullscreenElement?document.exitFullscreen():document.body.requestFullscreen(),class:"has-icon ic-expand"}),c("button",{onClick:()=>e(!0),class:"has-icon ic-cog"}))},be=({edit:e})=>{const t=ce.empty();let[n,o]=te([]),[r,i]=te([]),[s,l]=te(t);ne((()=>{he.getMembers().then((e=>{o(e);let n=pe.members;n.length||(n=Array(2*Math.ceil(e.length/2)).fill(t)),i(n)}))}),[]);const a=(e,t,n)=>{let o=n||r;o[e]=t,i([]),i(o)},_=e=>r.some((t=>t&&t.id==e.id)),u=e=>e.id==s.id;return c("div",{class:"seat-editor"},c("div",{class:"buttonbar"},c("button",{onClick:()=>{pe.members=r,pe.saveMembers(),e(!1)},class:"has-icon ic-chevron-left"},"Zurück"),c("button",{class:"has-icon ic-user-minus",onClick:()=>{r.length<3||r[r.length-1].id>=0||r[r.length-2].id>=0||i(r.slice(0,r.length-2))}},"Weniger"),c("button",{class:"has-icon ic-user-plus",onClick:()=>{i(r.concat([t,t]))}},"Mehr"),c("button",{class:"has-icon ic-trash",onClick:()=>{i([]),i(r.fill(t))}},"Leeren")),c("div",{class:"content"},c("div",{class:"srclist"},c("ul",null,n.map((e=>{var n;return c("li",{onClick:()=>(e=>{if(s.id==e.id)return void l(t);l(e);const n=r.findIndex((t=>t.id==e.id));n<0||a(n,t)})(e),class:[_(e)?"is-seated":"",u(e)?"is-selected":""].join(" ")},e.fname," ",e.lname," (",null===(n=e.fraction)||void 0===n?void 0:n.shortName,")",c("div",{class:"avatar",style:{backgroundImage:`url(${pe.getImage(e.image)})`}}))})))),c("div",{class:"namelist"},r.map(((e,o)=>{var r;return c("button",{onClick:()=>(e=>{if(s.id<0)return;a(e,s);let o=n.findIndex((e=>e.id==s.id));for(;++o<n.length;)if(!_(n[o]))return void l(n[o]);l(t)})(o),class:e.id>=0?"has-seat":""},e.fname," ",e.lname,c("br",null),e.fraction?`(${null===(r=e.fraction)||void 0===r?void 0:r.shortName})`:" ")})))))};!function(n,o,r){var i,l,a;t.__&&t.__(n,o),l=(i="function"==typeof r)?null:r&&r.__k||o.__k,a=[],A(o,n=(!i&&r||o).__k=c(d,null,[n]),l||s,s,void 0!==o.ownerSVGElement,!i&&r?[r]:l?null:o.firstChild?e.call(o.childNodes):null,a,!i&&r?r:l?l.__e:o.firstChild,i),N(a,n)}(c((()=>{const[e,t]=te(!1);return c("div",{class:"app"},e?c(be,{edit:t}):c("div",null,c(ge,{edit:t}),c(ye,{edit:t})))}),null),document.body)}();
